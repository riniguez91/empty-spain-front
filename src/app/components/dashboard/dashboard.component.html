
<div class="control-section m-3">
    <ejs-dashboardlayout id="dashboard" [columns]="3" [cellSpacing]='cellSpacing' [allowDragging]='allowDragging' [cellAspectRatio]='cellAspectRatio'>
        <e-panels>

            <e-panel [sizeX]="1" [sizeY]="1" [row]="0" [col]="0">
                <ng-template #header>
                    <div>Busqueda por municipios [[PIE-CHART]] top 10</div>
                </ng-template>
                <ng-template #content>
                    <div id="column">
                        <ejs-chart id="columnChart" height="162px" [primaryXAxis]='primaryXAxis' [tooltip]='tooltip'>
                            <e-series-collection>
                                <e-series [dataSource]="chartData" type='Column' xName='municipio' yName='no_searches'>
                                </e-series>
                            </e-series-collection>
                        </ejs-chart>
                    </div>
                </ng-template>
            </e-panel>

            <e-panel [sizeX]="1" [sizeY]="1" [row]="0" [col]="1">
                <ng-template #header>
                    <div>Lanzada de scrapers</div>
                </ng-template>
                <ng-template #content>
                    <div id="line">
                        <ejs-chart id="lineChart" [primaryXAxis]='primaryXAxis' [tooltip]='tooltip'>
                            <e-series-collection>
                                <e-series [dataSource]="lineData" xName='x' yName='y' type="Line">
                                </e-series>
                            </e-series-collection>
                        </ejs-chart>
                    </div>
                </ng-template>
            </e-panel>

            <e-panel [sizeX]="1" [sizeY]="1" [row]="0" [col]="2">
                <ng-template #header>
                    <div>Los 10 pueblos m√°s buscados</div>
                </ng-template>
                <ng-template #content>
                    <div id="searchPie">
                        <ejs-accumulationchart id="searchPieChart" [enableAnimation]="false" [tooltip]='tooltip' [legendSettings]='legendSettings'>
                            <e-accumulation-series-collection>
                                <e-accumulation-series [dataSource]="searchpiechart" xName='municipio' yName='no_searches'
                                    name="Top 10" [dataLabel]='datalabel' radius='85%'>
                                </e-accumulation-series>
                            </e-accumulation-series-collection>
                        </ejs-accumulationchart>
                    </div>
                </ng-template>
            </e-panel>

            <e-panel [sizeX]="1" [sizeY]="1" [row]="1" [col]="0">
                <!-- <ng-template #header>
                    <div>Pie Chart de algo</div>
                </ng-template>
                <ng-template #content>
                    <div id="pie2">
                        <ejs-accumulationchart id="pieChart2" [enableAnimation]="false"
                            [tooltip]='tooltip' [legendSettings]='legendSettings'>
                            <e-accumulation-series-collection>
                                <e-accumulation-series [dataSource]="piechart2" xName="x" yName="y" radius="100%"
                                    name="Browser" [dataLabel]='datalabel'>
                                </e-accumulation-series>
                            </e-accumulation-series-collection>
                        </ejs-accumulationchart>
                    </div>
                </ng-template> -->
            </e-panel>

            <e-panel [sizeX]="2" [sizeY]="1" [row]="1" [col]="2">
                <ng-template #header>
                    <div>Informacion usuarios y cambiar privilegios</div>
                </ng-template>
                <ng-template #content>
                    <ejs-grid [dataSource]='tableData' [allowPaging]="true" [pageSettings]="pageSettings" >
                        <e-columns>
                            <e-column field='id' headerText='ID' textAlign='center' isPrimaryKey='true' width=80></e-column>
                            <e-column field='email' headerText='Correo Electronico' width=200></e-column>
                            <e-column field='name' headerText='Nombre' width=120></e-column>
                            <e-column field='surnames' headerText='Apellidos' textAlign='left' width=180></e-column>
                            <e-column field='role' headerText='Rol' textAlign='right' width=60></e-column>
                        </e-columns>
                    </ejs-grid>
            
                </ng-template>
            </e-panel>

        </e-panels>
    </ejs-dashboardlayout>

    <button class="btn btn-primary" (click)="reset_locality()">Resetear CCAA, Provincias y municipios</button>
    
</div>